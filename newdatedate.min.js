function newdatedate(e){var a=$(e).val();if(""==a||null==a)isdateformatvalidate=1,$(e).css("border"," 1px solid #aaa");else if(a=a.replace(new RegExp("/","gm"),""),-1==a.indexOf("-")){var d=getdateresult(a,e);if(0==d)return isdateformatvalidate=0,void $("#dateredfieldname").val(e);isdateformatvalidate=1,$(e).val(d)}else{var r=a.split("-");if(r[0]==r[1])return isdateformatvalidate=0,$("#dateredfieldname").val(e),$(e).css("border","4px solid red"),void $(e).focus();var s=getdateresult(r[0],e);if(0==s)return isdateformatvalidate=0,void $("#dateredfieldname").val(e);var t=getdateresult(r[1],e);if(0==t)return isdateformatvalidate=0,void $("#dateredfieldname").val(e);if(-1!=s.indexOf("-")&&-1!=t.indexOf("-"))isdateformatvalidate=1,$(e).val(s.split("-")[0]+"-"+t.split("-")[1]);else{if(-1!=s.indexOf("-")||-1!=t.indexOf("-"))return isdateformatvalidate=0,$("#dateredfieldname").val(e),$(e).css("border","4px solid red"),void $(e).focus();isdateformatvalidate=1,$(e).val(s+"-"+t)}}}function getdateresult(e,a){for(var d,r,s,t=0;t<e.length;t++)if(e[t]<"0"||e[t]>"9")return $(a).css("border","4px solid red"),$(a).focus(),!1;if(6==e.length){var i=e.substring(0,2);if(r=parseInt(i),r>12)return $(a).css("border","4px solid red"),$(a).focus(),!1;var o=e.substring(2,6);return d=parseInt(o),2==r?d%400==0?($(a).css("border"," 1px solid #aaa"),"02/01/"+d+"-02/29/"+d):d%4==0&&d%100!=0?($(a).css("border"," 1px solid #aaa"),"02/01/"+d+"-02/29/"+d):($(a).css("border"," 1px solid #aaa"),"02/01/"+d+"-02/28/"+d):1==r||3==r||5==r||7==r||8==r||10==r||12==r?($(a).css("border"," 1px solid #aaa"),i+"/01/"+d+"-"+i+"/31/"+d):($(a).css("border"," 1px solid #aaa"),i+"/01/"+d+"-"+i+"/30/"+d)}if(8==e.length){var i=e.substring(0,2),l=e.substring(2,4),o=e.substring(4,8);return r=parseInt(i),s=parseInt(l),d=parseInt(o),r>12?($(a).css("border","4px solid red"),$(a).focus(),!1):s>31?($(a).css("border","4px solid red"),$(a).focus(),!1):(2==r||4==r||6==r||9==r||11==r)&&s>30?($(a).css("border","4px solid red"),$(a).focus(),!1):2==r&&29==s?d%400==0?($(a).css("border"," 1px solid #aaa"),"02/29/"+o):d%4==0&&d%100!=0?($(a).css("border"," 1px solid #aaa"),"02/29/"+o):($(a).css("border","4px solid red"),$(a).focus(),!1):2==r&&s>29?($(a).css("border","4px solid red"),$(a).focus(),!1):($(a).css("border"," 1px solid #aaa"),i+"/"+l+"/"+o)}return $(a).css("border","4px solid red"),$(a).focus(),!1}function newdatedatesingle(e){var a=$(e).val();if(""==a||null==a)isdateformatvalidate=1,$(e).css("border"," 1px solid #aaa");else{a=a.replace(new RegExp("/","gm"),"");for(var d,r,s,t=0;t<a.length;t++)if(a[t]<"0"||a[t]>"9")return isdateformatvalidate=0,$("#dateredfieldname").val(e),$(e).css("border","4px solid red"),void $(e).focus();if(8!=a.length)return isdateformatvalidate=0,$("#dateredfieldname").val(e),$(e).css("border","4px solid red"),void $(e).focus();var i=a.substring(0,2),o=a.substring(2,4),l=a.substring(4,8);if(r=parseInt(i),s=parseInt(o),d=parseInt(l),r>12)return isdateformatvalidate=0,$("#dateredfieldname").val(e),$(e).css("border","4px solid red"),void $(e).focus();if(s>31)return isdateformatvalidate=0,$("#dateredfieldname").val(e),$(e).css("border","4px solid red"),void $(e).focus();if((2==r||4==r||6==r||9==r||11==r)&&s>30)return isdateformatvalidate=0,$("#dateredfieldname").val(e),$(e).css("border","4px solid red"),void $(e).focus();if(2==r&&29==s)if(d%400==0)isdateformatvalidate=1,$(e).val("02/29/"+d),$(e).css("border"," 1px solid #aaa");else{if(d%4!=0||d%100==0)return isdateformatvalidate=0,$("#dateredfieldname").val(e),$(e).css("border","4px solid red"),void $(e).focus();isdateformatvalidate=1,$(e).val("02/29/"+d),$(e).css("border"," 1px solid #aaa")}else{if(2==r&&s>29)return isdateformatvalidate=0,$("#dateredfieldname").val(e),$(e).css("border","4px solid red"),void $(e).focus();isdateformatvalidate=1,$(e).val(i+"/"+o+"/"+d),$(e).css("border"," 1px solid #aaa")}}}function newphone(e){var a=$(e).val();if(""==a||null==a)isdateformatvalidate=1,$(e).css("border"," 1px solid #aaa");else{a=a.replace(new RegExp("-","gm"),""),a=a.replace(new RegExp("\\(","gm"),""),a=a.replace(new RegExp("\\)","gm"),"");for(var d=0;d<a.length;d++)if(a[d]<"0"||a[d]>"9")return isdateformatvalidate=0,$("#dateredfieldname").val(e),$(e).css("border","4px solid red"),void $(e).focus();if(10!=a.length)return isdateformatvalidate=0,$("#dateredfieldname").val(e),$(e).css("border","4px solid red"),void $(e).focus();isdateformatvalidate=1,$(e).val("("+a.substring(0,3)+")"+a.substring(3,6)+"-"+a.substring(6,10)),$(e).css("border"," 1px solid #aaa")}}function newtime(e){var a=$(e).val();if(""==a||null==a)isdateformatvalidate=1,$(e).css("border"," 1px solid #aaa");else{a=a.replace(new RegExp(":","gm"),"");for(var d=0;d<a.length;d++)if(a[d]<"0"||a[d]>"9")return isdateformatvalidate=0,$("#dateredfieldname").val(e),$(e).css("border","4px solid red"),void $(e).focus();if(4!=a.length)return isdateformatvalidate=0,$("#dateredfieldname").val(e),$(e).css("border","4px solid red"),void $(e).focus();var r=a.substring(0,2),s=parseInt(r),t=a.substring(2,4),i=parseInt(t);if(s>23)return isdateformatvalidate=0,$("#dateredfieldname").val(e),$(e).css("border","4px solid red"),void $(e).focus();if(i>59)return isdateformatvalidate=0,$("#dateredfieldname").val(e),$(e).css("border","4px solid red"),void $(e).focus();isdateformatvalidate=1,$(e).val(r+":"+t),$(e).css("border"," 1px solid #aaa")}}!function(e){e.fn.extend({newdatedate:function(a){null==a?e(this).blur(function(){newdatedate(this)}):"range"==a.type?e(this).blur(function(){newdatedate(this)}):"single"==ptions.type&&e(this).blur(function(){newdatedatesingle(this)})},newdatedatesingle:function(a){e(this).blur(function(){newdatedatesingle(this)})},newphone:function(a){e(this).blur(function(){newphone(this)})},newtime:function(a){e(this).blur(function(){newtime(this)})}})}(jQuery);